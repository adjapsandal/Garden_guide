# Путеводитель в мир огорода

Современному домашнему хозяйству и мелкомасштабному садоводству требуются рекомендации для конкретного региона о том, что выращивать, когда сеять и собирать урожай, как бороться с вредителями и как различные сорта проявляют себя в местных климатических условиях. Начинающим и иногда даже опытным садоводам часто не хватает простого доступа к консолидированным, локализованным агрономическим знаниям. Информацию про посаженные растения хранят, где придется. Начинающие перечитывают весь интернет для того, чтобы хоть как-то понять, что делать, более опытные пытаются разобраться и структурировать те знания, которые уже у них есть. Но часто все это приводит к неоптимальным урожаям, напрасной трате усилий и в худшем случае разочарованию.

Наш проект решает эту проблему, предоставляя систему рекомендаций по выращиванию сельскохозяйственных культур с учетом региона, а также:
- Каталог сельскохозяйственных культур с перечнем всех доступных видов и их разновидностей.
- Региональные параметры (даты посева/сбора урожая, особые указания), привязанные к каждой культуре и сорту в определенном регионе.
- Информация о вредителях, связанная с каждой культурой.
- Доступ на основе ролей, при котором ответственные за свой регион агрономы управляют локальными данными, а пользователи-садоводы просматривают их.

## Возможности

- **Каталог растений и вредителей** с фильтрацией по регионам, типам и культурам.
- **Избранное**: добавление сортов в персональный список.
- **Кабинет агронома**: добавление культур, сортов, вредителей, региональных рекомендаций и связей между ними.
- **Форум**: статьи и комментарии пользователей.
- **Регистрация и вход** с разделением ролей: пользователь или агроном.

## Технологии

* Python 3.11, Flask
* PostgreSQL
* Jinja2 templates
* Docker / Docker Compose (локальная среда)

---

## Быстрый старт (рекомендуется — с Docker)

1. Клонируй репозиторий:

```bash
git clone https://github.com/your_username/garden.git
cd garden
```

2. Скопируй шаблон `.env.example` в `.env` и отредактируй значения:

```bash
cp .env.example .env
# открой .env и поставь реальные значения локально
```

3. Собери и запусти через Docker Compose:

```bash
docker compose up --build
```

* Сервис `web` будет доступен на `http://localhost:5000`
* Postgres поднимается как сервис `db`, внутри контейнеров для подключения используется `DB_HOST=db`

4. (Опционально) Если добавлен Adminer в compose — открой `http://localhost:8080` и подключайся: host `db`, user и пароль из `.env`, база `DB_NAME`.

---

## Локальный запуск без Docker (если нужно)

1. Создай виртуальное окружение и установи зависимости:

```bash
python -m venv venv
source venv/bin/activate      # Linux / macOS
venv\Scripts\activate         # Windows
pip install -r requirements.txt
```

2. Настрой PostgreSQL и `.env` (см. `.env.example`).

3. Запусти приложение:

```bash
python main.py
```

---

## Структура проекта

- `main.py` — основной файл приложения (Flask)
- `db.py` — работа с базой данных PostgreSQL
- `auth.py` — регистрация, аутентификация и хеширование паролей
- `requirements.txt` — зависимости
- `garden.backup` — дамп базы данных PostgreSQL для быстрого старта
- `templates/` — HTML-шаблоны страниц (Jinja2)
  - includes/ — общие части (header, footer)
- `static/` — стили и изображения
  - css/ — стили
  - img/ — изображения
- `Dockerfile`, `docker-compose.yml` — для локального запуска в контейнерах

---

> Разработано для учебных и демонстрационных целей. Добро пожаловать в мир эффективного садоводства! 